---
import { Icon } from 'astro-icon/components';
import clsx from 'clsx';

import config from '@/config';

const pathname = Astro.url.pathname;
---

<details class="relative md:hidden group">
  <summary
    aria-label="Mobile Menu"
    title="Mobile Menu"
    class="relative z-[60] flex items-center p-2 base-button-hover base-button-animation list-none cursor-pointer"
  >
    <span class="sr-only">Mobile Menu</span>
    <div class="relative h-6 w-6">
      <Icon
        name="hugeicons:cancel-01"
        size={24}
        class="absolute inset-0 transition-all duration-300 opacity-0 scale-50 rotate-90 group-open:opacity-100 group-open:scale-100 group-open:rotate-0"
      />
      <Icon
        name="hugeicons:menu-02"
        size={24}
        class="absolute inset-0 transition-all duration-300 opacity-100 scale-100 rotate-0 group-open:opacity-0 group-open:scale-50 group-open:rotate-90"
      />
    </div>
  </summary>

  <div class="fixed inset-0 z-50 flex flex-col bg-neutral-100/90 p-6 backdrop-blur-xl dark:bg-neutral-900/90">
    <div class="flex flex-col items-center justify-center h-full space-y-8">
      {
        config.headbar.routes.map((item) => (
          <a
            href={item.href}
            class={clsx(
              "text-4xl font-bold tracking-tight transition-transform duration-300 hover:scale-110 active:scale-95",
              (pathname === "/"
                ? pathname === item.href
                : pathname.startsWith(item.href ?? "") &&
                  item.href !== "/")
                ? "text-orange-600 dark:text-orange-500"
                : "text-neutral-800 dark:text-neutral-200"
            )}
          >
            {item.name}
          </a>
        ))
      }
    </div>
  </div>
</details>
